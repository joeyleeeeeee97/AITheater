# AI Theater Scripting Protocol v2.0

This document defines the mandatory JSON structure for events generated by the script writer. The video generator relies on this exact structure to render the game state correctly.

### **Core Event Structure**

Every event object in the output array MUST contain the following top-level keys:

-   `"event_type"`: (String) The type of event.
-   `"summary"`: (String) A concise, third-person summary of the event.
-   `"content"`: (String) The narrative or dialogue content for the voice actor.

The following state objects are **OPTIONAL**. They should ONLY be included if their values have **changed** since the previous event.

-   `"game_state"`: (Object) The state of the game at the moment of the event.
-   `"quest_dashboard_state"`: (Array of Objects) The cumulative results of all completed quests.

### **Key-Specific Schemas**

#### 1. `game_state` Object

Include this object **only when the leader or proposed team changes**.

-   `"current_leader"`: (Integer | null) The player ID of the current leader.
-   `"proposed_team"`: (Array of Integers | null) The team currently on the table for voting.

**Example:**
```json
"game_state": {
  "current_leader": 4,
  "proposed_team": [4, 0, 1]
}
```

#### 2. `quest_dashboard_state` Array

Include this object **only when a quest has just been completed** and a new result is added.

-   Each item in the array is an **Object** representing one completed quest.
-   The object MUST contain:
    -   `"quest_number"`: (Integer) The quest number (1-5).
    -   `"team"`: (Array of Integers) The players who went on the quest.
    -   `"result"`: (String) The outcome, either "SUCCESS" or "FAILURE".

**Example (after Quest 2 has failed):**
```json
"quest_dashboard_state": [
  {
    "quest_number": 1,
    "team": [0, 6],
    "result": "SUCCESS"
  },
  {
    "quest_number": 2,
    "team": [2, 3, 4],
    "result": "FAILURE"
  }
]
```